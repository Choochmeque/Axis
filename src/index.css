@import 'tailwindcss';

@theme {
  /* Colors */
  --color-bg-primary: #1e1e1e;
  --color-bg-secondary: #252526;
  --color-bg-tertiary: #2d2d30;
  --color-bg-sidebar: #1e1e1e;
  --color-bg-toolbar: #2d2d30;
  --color-bg-statusbar: #007acc;
  --color-bg-header: #2d2d30;
  --color-bg-hover: #2a2d2e;
  --color-bg-active: #37373d;
  --color-bg-card: #2d2d30;
  --color-bg-code: #1e1e1e;
  --color-bg-badge: #4d4d4d;
  --color-bg-merge: rgba(86, 156, 214, 0.1);

  --color-text-primary: #cccccc;
  --color-text-secondary: #858585;
  --color-text-tertiary: #5a5a5a;
  --color-text-muted: #6e6e6e;

  --color-border: #3c3c3c;

  --color-accent: #0078d4;
  --color-accent-hover: #1084d8;

  --color-success: #4caf50;
  --color-warning: #ff9800;
  --color-error: #f44336;

  --color-diff-add-bg: rgba(35, 134, 54, 0.2);
  --color-diff-add-line: #2ea043;
  --color-diff-delete-bg: rgba(248, 81, 73, 0.2);
  --color-diff-delete-line: #f85149;
  --color-diff-hunk-bg: rgba(56, 139, 253, 0.1);

  /* Fonts */
  --font-sans:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
    'Helvetica Neue', sans-serif;
  --font-mono: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

@layer base {
  /* Dark theme (default) */
  :root,
  [data-theme='dark'] {
    --bg-primary: #1e1e1e;
    --bg-secondary: #252526;
    --bg-tertiary: #2d2d30;
    --bg-sidebar: #1e1e1e;
    --bg-toolbar: #2d2d30;
    --bg-statusbar: #007acc;
    --bg-header: #2d2d30;
    --bg-hover: #2a2d2e;
    --bg-active: #37373d;
    --bg-card: #2d2d30;
    --bg-code: #1e1e1e;
    --bg-badge: #4d4d4d;
    --bg-merge: rgba(86, 156, 214, 0.1);
    --bg-uncommitted: rgba(255, 152, 0, 0.08);
    --bg-input: #3c3c3c;

    --text-primary: #cccccc;
    --text-secondary: #858585;
    --text-tertiary: #5a5a5a;
    --text-muted: #6e6e6e;
    --text-uncommitted: #ff9800;

    --border-color: #3c3c3c;

    --accent-color: #0078d4;
    --accent-hover: #1084d8;
    --accent-color-hover: #1084d8;

    --color-success: #4caf50;
    --color-warning: #ff9800;
    --color-error: #f44336;

    --diff-add-bg: rgba(35, 134, 54, 0.2);
    --diff-add-line: #2ea043;
    --diff-delete-bg: rgba(248, 81, 73, 0.2);
    --diff-delete-line: #f85149;
    --diff-hunk-bg: rgba(56, 139, 253, 0.1);

    --error-bg: rgba(244, 67, 54, 0.1);
    --error-color: #f44336;

    --success-bg: rgba(76, 175, 80, 0.1);
    --success-color: #4caf50;

    color-scheme: dark;
  }

  /* Light theme */
  [data-theme='light'] {
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --bg-tertiary: #e8e8e8;
    --bg-sidebar: #f3f3f3;
    --bg-toolbar: #f0f0f0;
    --bg-statusbar: #007acc;
    --bg-header: #e8e8e8;
    --bg-hover: #e8e8e8;
    --bg-active: #d4d4d4;
    --bg-card: #ffffff;
    --bg-code: #f5f5f5;
    --bg-badge: #e0e0e0;
    --bg-merge: rgba(0, 120, 212, 0.1);
    --bg-uncommitted: rgba(245, 124, 0, 0.1);
    --bg-input: #ffffff;

    --text-primary: #1f1f1f;
    --text-secondary: #616161;
    --text-tertiary: #9e9e9e;
    --text-muted: #757575;
    --text-uncommitted: #f57c00;

    --border-color: #d4d4d4;

    --accent-color: #0078d4;
    --accent-hover: #005a9e;
    --accent-color-hover: #005a9e;

    --color-success: #388e3c;
    --color-warning: #f57c00;
    --color-error: #d32f2f;

    --diff-add-bg: rgba(35, 134, 54, 0.15);
    --diff-add-line: #22863a;
    --diff-delete-bg: rgba(248, 81, 73, 0.15);
    --diff-delete-line: #cb2431;
    --diff-hunk-bg: rgba(0, 120, 212, 0.1);

    --error-bg: rgba(211, 47, 47, 0.1);
    --error-color: #d32f2f;

    --success-bg: rgba(56, 142, 60, 0.1);
    --success-color: #388e3c;

    color-scheme: light;
  }

  :root {
    --font-sans:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
      'Helvetica Neue', sans-serif;
    --font-mono: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    font-family: var(--font-sans);
    font-size: 13px;
    line-height: 1.4;
    font-weight: 400;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html,
  body,
  #root {
    height: 100%;
    overflow: hidden;
  }

  body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-secondary);
  }

  /* Selection */
  ::selection {
    background-color: var(--accent-color);
    color: white;
  }

  /* Focus outline */
  :focus-visible {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }

  /* Form element resets */
  button,
  input,
  select,
  textarea {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
  }

  button {
    background: transparent;
    border: none;
    padding: 0;
    cursor: pointer;
  }

  input,
  select,
  textarea {
    background: transparent;
    border: none;
    outline: none;
  }

  select {
    appearance: none;
  }

  /* Code */
  code {
    font-family: var(--font-mono);
  }

  /* Resize handle for panels */
  .resize-handle {
    width: 4px;
    background: transparent;
    transition: background-color 0.15s;
  }

  .resize-handle:hover,
  .resize-handle[data-resize-handle-active] {
    background: var(--accent-color);
  }

  /* Radix UI Dialog/Dropdown overrides */
  [data-radix-popper-content-wrapper] {
    z-index: 1000 !important;
  }
} /* end @layer base */

@layer components {
  /* Dialog overlay classes */
  .dialog-overlay {
    @apply fixed inset-0 bg-black/50 z-9999;
  }

  .dialog-overlay-centered {
    @apply fixed inset-0 bg-black/50 z-9999 flex items-center justify-center;
  }

  .dialog-overlay-animated {
    @apply fixed inset-0 bg-black/50 z-9999;
    animation: fade-in 150ms ease-out;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes dialog-in {
    from {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
  }

  /* Dialog classes */
  .dialog-content {
    @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-(--bg-primary) rounded-lg shadow-xl w-[90vw] max-h-[85vh] p-0 overflow-y-auto z-10000;
    animation: dialog-in 150ms ease-out;
  }

  .dialog-title {
    @apply flex items-center gap-2 py-4 px-5 m-0 text-base font-semibold text-(--text-primary) border-b border-(--border-color);
  }

  .dialog-body {
    @apply p-5;
  }

  .dialog-footer {
    @apply flex justify-end gap-2 py-4 px-5 border-t border-(--border-color);
  }

  .dialog-info-box {
    @apply p-3 bg-(--bg-secondary) rounded mb-4;
  }

  /* Context Menu classes */
  @keyframes menu-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .menu-content {
    @apply min-w-50 bg-(--bg-secondary) border border-(--border-color) rounded-md p-1 shadow-lg z-10000;
    animation: menu-in 100ms ease-out;
  }

  .menu-item {
    @apply flex items-center gap-2 py-1.5 px-2 rounded text-xs text-(--text-primary) cursor-pointer outline-none select-none;
    @apply hover:bg-(--bg-tertiary) focus:bg-(--bg-tertiary) data-highlighted:bg-(--bg-tertiary);
    @apply data-disabled:text-(--text-tertiary) data-disabled:cursor-not-allowed;
  }

  .menu-item-danger {
    @apply flex items-center gap-2 py-1.5 px-2 rounded text-xs text-error cursor-pointer outline-none select-none;
    @apply hover:bg-error/15 focus:bg-error/15 data-highlighted:bg-error/15;
  }

  .menu-separator {
    @apply h-px bg-(--border-color) my-1;
  }

  .menu-hint {
    @apply ml-auto text-[11px] text-(--text-tertiary);
  }

  .menu-chevron {
    @apply ml-auto text-(--text-tertiary);
  }

  /* Button classes */
  .btn {
    @apply py-2 px-4 text-[13px] font-medium rounded cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-icon {
    @apply flex items-center gap-1.5 py-2 px-4 text-[13px] font-medium rounded cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply bg-transparent border border-(--border-color) text-(--text-primary) hover:bg-(--bg-hover);
  }

  .btn-primary {
    @apply bg-(--accent-color) border border-(--accent-color) text-white hover:opacity-90;
  }

  /* Input classes */
  .input {
    @apply w-full py-2 px-3 text-sm bg-(--bg-secondary) border border-(--border-color) rounded text-(--text-primary) outline-none transition-colors focus:border-(--accent-color);
  }

  /* Label classes */
  .label {
    @apply block mb-1.5 text-[13px] font-medium text-(--text-secondary);
  }

  /* Field classes */
  .field {
    @apply mb-4 last:mb-0;
  }

  /* Checkbox classes (Radix UI) */
  .checkbox {
    @apply flex items-center justify-center w-4 h-4 rounded border border-(--border-color) bg-(--bg-primary) shrink-0 transition-colors;
    @apply data-[state=checked]:bg-(--accent-color) data-[state=checked]:border-(--accent-color);
  }

  .checkbox-field {
    @apply flex items-center gap-2 mb-4 last:mb-0;
  }

  .checkbox-label {
    @apply text-[13px] text-(--text-primary) cursor-pointer select-none;
  }

  /* Alert/Message classes */
  .alert {
    @apply flex items-start gap-2 p-3 rounded-md text-[13px];
  }

  .alert-error {
    @apply bg-error/10 border border-error text-error;
  }

  .alert-success {
    @apply bg-success/10 border border-success text-success;
  }

  .alert-warning {
    @apply bg-warning/10 border border-warning text-warning;
  }

  .alert-inline {
    @apply py-2 px-3 rounded text-[13px];
  }

  /* Dropdown classes (Radix UI) */
  .dropdown-button {
    @apply flex items-center gap-1 py-1 px-2 border border-(--border-color) bg-(--bg-secondary) text-(--text-primary) text-xs cursor-pointer rounded transition-colors hover:bg-(--bg-hover);
  }

  .dropdown-content {
    @apply min-w-48 bg-(--bg-secondary) border border-(--border-color) rounded-md p-1 shadow-lg z-50;
  }

  .dropdown-item {
    @apply flex items-center py-1.5 px-2 pl-6 text-[13px] text-(--text-primary) rounded cursor-pointer outline-none relative hover:bg-(--bg-hover) data-[highlighted]:bg-(--bg-hover) data-disabled:text-(--text-tertiary) data-disabled:cursor-default;
  }

  .dropdown-label {
    @apply px-2 py-1 text-[11px] text-(--text-tertiary) uppercase;
  }

  .dropdown-separator {
    @apply h-px bg-(--border-color) my-1;
  }

  /* Close button */
  .btn-close {
    @apply flex items-center justify-center w-7 h-7 p-0 bg-transparent border-none rounded text-(--text-secondary) cursor-pointer transition-colors hover:bg-(--bg-hover) hover:text-(--text-primary);
  }
}
